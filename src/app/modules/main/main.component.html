<nz-layout class="w-full h-full theme-transition">
  <!-- Sidebar -->
  <nz-sider
    nzCollapsible
    [(nzCollapsed)]="isCollapsed"
    [nzTrigger]="null"
    nzWidth="250px"
    class="overflow-y-auto h-full overflow-x-hidden transition-all duration-300 ease-in-out theme-transition"
    [ngClass]="[themeBackground]"
  >
    <div class="py-4" [ngClass]="{ 'py-2': isCollapsed, 'py-4': !isCollapsed }">
      <div class="text-start font-semibold">
        <span
          nz-icon
          nzType="{{ !isCollapsed ? 'left-circle' : 'right-circle' }}"
          nzTheme="outline"
          class="p-2 cursor-pointer hover:bg-gray-700 rounded transition-all"
          [ngClass]="[themeText]"
          (click)="isCollapsed = !isCollapsed"
        ></span>
      </div>
      <nz-divider
        [nzText]="isCollapsed ? '403' : 'AOK PONLORK'"
        class="!border-black dark:!border-white text-center"
        [nzDashed]="true"
        [ngClass]="[themeText]"
      ></nz-divider>

      <a
        routerLink="/"
        class="flex flex-row gap-2 items-center px-3 justify-center"
      >
        <img
          src="/assets/images/dummy-logo.webp"
          alt="logo"
          [ngClass]="{ 'h-36 w-36': !isCollapsed, 'h-12 w-12': isCollapsed }"
          class="rounded-full object-cover"
        />
      </a>
    </div>
    <div class="p-2" *ngIf="!isCollapsed">
      <p
        class="sidebar-text justify-center text-center theme-transition"
        [ngClass]="[themeText]"
      >
        Wassailers high did his given sore control. Have uncouth other womans
        tis pomp for did, could cell ancient times once.
      </p>
      <div class="flex justify-center gap-3 mt-4">
        <fa-icon
          *ngFor="let icon of icons"
          [icon]="['fab', icon]"
          class="text-2xl cursor-pointer"
          [ngClass]="[themeText]"
        ></fa-icon>
      </div>
    </div>

    <nz-divider
      class="border-gray-900 dark:border-white px-2"
      [nzDashed]="true"
    ></nz-divider>
    <ul
      nz-menu
      [nzTheme]="colorService.isDarkTheme.value ? 'dark' : 'light'"
      nzMode="inline"
      [ngClass]="[themeBackground, 'me-1, border-none']"
    >
      <li
        *ngFor="let item of menuItems"
        nzMatchRouter
        [routerLink]="item.route"
        nz-menu-item
        nz-tooltip
        nzTooltipPlacement="right"
        [nzTooltipTitle]="isCollapsed !== false ? item.tooltip : ''"
        [ngClass]="[themeText, 'py-2 dark:ant-menu-item-selected']"
      >
        <fa-icon
          [icon]="[item.type === 'brand' ? 'fab' : 'fas', item.icon]"
          [ngClass]="{ 'mr-1': isCollapsed, 'mr-3': !isCollapsed }"
        ></fa-icon>
        {{ !isCollapsed ? item.label : "" }}
      </li>
    </ul>
  </nz-sider>
  <!-- Main Layout -->
  <nz-layout>
    <!-- Content Area -->
    <nz-content
      [ngClass]="[
        themeText,
        contentBackground,
        'overflow-y-auto h-full p-4 theme-transition'
      ]"
    >
      <router-outlet></router-outlet>
    </nz-content>

    <nz-footer
      [ngClass]="[
        themeText,
        themeBackground,
        'font-semibold py-4 text-center theme-transition'
      ]"
    >
      AOK PONLORK Â©{{ currentYear }} | Implemented By PONLORK
    </nz-footer>
  </nz-layout>
</nz-layout>
<button
  class="w-10 h-10 rounded-full fixed top-4 right-4 flex justify-center items-center shadow-md hover:scale-105 hover:shadow-xl z-50"
  (click)="toggleTheme()"
  [nz-tooltip]="'Toggle Theme'"
  [ngClass]="{
    'bg-gray-200': !colorService.isDarkTheme.value,
    'bg-gray-800': colorService.isDarkTheme.value
  }"
>
  <app-lottie
    [animationName]="
      colorService.isDarkTheme.value ? 'dark.json' : 'light.json'
    "
    width="45px"
    height="45px"
    [loop]="true"
    [loopDelay]="700"
  ></app-lottie>
</button>
